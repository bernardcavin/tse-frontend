import{Y as b,Z as i,_ as a,$ as n,a0 as m,bF as s,bv as l,bw as u,a2 as _,a4 as h,ai as r,aj as d,W as o}from"./index-CaG8M5h2.js";const g=b(["checked_in","checked_out"]),y=i({id:a().uuid().optional().nullable(),location_name:a(),description:a().optional().nullable(),address:a().optional().nullable(),latitude:n(),longitude:n(),radius_meters:n().int().min(1).max(1e4).default(100),qr_code_data:a().optional().nullable(),is_active:m().default(!0),created_by_id:a().uuid().optional().nullable(),created_at:s.date().optional().nullable(),updated_at:s.date().optional().nullable()}),p=i({id:a().uuid().optional().nullable(),user_id:a().uuid(),location_id:a().uuid(),check_in_time:s.date(),check_in_latitude:n().optional().nullable(),check_in_longitude:n().optional().nullable(),check_out_time:s.date().optional().nullable(),check_out_latitude:n().optional().nullable(),check_out_longitude:n().optional().nullable(),status:g,notes:a().optional().nullable(),created_at:s.date().optional().nullable(),updated_at:s.date().optional().nullable()});i({location_id:a().uuid(),qr_code_data:a(),latitude:n(),longitude:n()});i({attendance_record_id:a().uuid(),latitude:n().optional().nullable(),longitude:n().optional().nullable(),notes:a().optional().nullable()});i({active_check_in:p.nullable(),is_checked_in:m()});async function f(t){const e=await l.post("attendance/locations",t);return y.parse(u.parse(e.data).data)}async function k(t,e){const c=await l.put(`attendance/locations/${t}`,e);return y.parse(u.parse(c.data).data)}async function q(t){const e=await l.delete(`attendance/locations/${t}`);return u.parse(e.data)}async function A(t){const e=await l.post("attendance/check-in",t);return p.parse(u.parse(e.data).data)}async function v(t){const e=await l.post("attendance/check-out",t);return p.parse(u.parse(e.data).data)}const S=_({endpoint:"/attendance/locations",dataSchema:y,rQueryParams:{queryKey:["attendance-locations"]}}),Q=h({endpoint:"/attendance/locations/:id",responseSchema:y,rQueryParams:{queryKey:["attendance-location"]}});function K(){const t=r();return d({mutationFn:e=>f(e.variables),onSuccess:()=>{t.invalidateQueries({queryKey:["attendance-locations"]}),o.show({title:"Success",message:"Attendance location created successfully",color:"green"})},onError:e=>{o.show({message:e.message,color:"red"})}})}function C({route:t}){const e=r();return d({mutationFn:c=>k(t.id,c.variables),onSuccess:()=>{e.invalidateQueries({queryKey:["attendance-locations"]}),e.invalidateQueries({queryKey:["attendance-location"]}),o.show({title:"Success",message:"Attendance location updated successfully",color:"green"})},onError:c=>{o.show({message:c.message,color:"red"})}})}function L(){const t=r();return d({mutationFn:e=>q(e.route.id),onSuccess:()=>{t.invalidateQueries({queryKey:["attendance-locations"]}),o.show({title:"Success",message:"Attendance location deleted successfully",color:"green"})},onError:e=>{o.show({message:e.message,color:"red"})}})}const E=_({endpoint:"/attendance/records",dataSchema:p,rQueryParams:{queryKey:["attendance-records"]}});function F(){const t=r();return d({mutationFn:e=>A(e.variables),onSuccess:()=>{t.invalidateQueries({queryKey:["attendance-records"]}),t.invalidateQueries({queryKey:["attendance-status"]}),o.show({title:"Success",message:"Checked in successfully",color:"green"})},onError:e=>{o.show({title:"Error",message:e.message,color:"red"})}})}function G(){const t=r();return d({mutationFn:e=>v(e.variables),onSuccess:()=>{t.invalidateQueries({queryKey:["attendance-records"]}),t.invalidateQueries({queryKey:["attendance-status"]}),o.show({title:"Success",message:"Checked out successfully",color:"green"})},onError:e=>{o.show({title:"Error",message:e.message,color:"red"})}})}const P=h({endpoint:"/attendance/status",responseSchema:p.nullable(),rQueryParams:{queryKey:["attendance-status"],refetchInterval:1e4}});export{y as A,K as a,C as b,Q as c,S as d,L as e,P as f,F as g,G as h,E as u};
