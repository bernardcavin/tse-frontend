import{c as m}from"./createReactComponent-uvbWfLFZ.js";import{Y as i,Z as u,_ as a,a1 as o,bF as l,ah as b,ai as c,aj as d,bv as s,bw as r}from"./index-CaG8M5h2.js";import{d as _}from"./date-DHQ8p-RG.js";/**
 * @license @tabler/icons-react v3.14.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var C=m("outline","file-alert","IconFileAlert",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M12 17l.01 0",key:"svg-2"}],["path",{d:"M12 11l0 3",key:"svg-3"}]]);const v=i(["open","in_progress","resolved","closed"]),y=i(["physical","chemical","biological","ergonomic","psychosocial"]),h=i(["hit_by_object","slip_trip_fall","short_circuit_burn","contact_hazard","environmental_pollution","other"]),z=i(["inadequate_equipment","lack_of_knowledge","incorrect_ppe_use","procedure_violation","no_loto_socialization","other"]),f=i(["elimination","substitution","minimization","training","ppe","other"]),p=u({id:a().uuid().optional().nullable(),photo_file_ids:o(a().uuid()).optional().nullable(),observer_id:a().uuid(),observer_name:a().optional().nullable(),facility_id:a().uuid(),facility_name:a().optional().nullable(),observation_date:l.date(),observation_time:a(),unsafe_action_condition:a(),hazard_types:o(a()).optional().nullable(),potential_risks:o(a()).optional().nullable(),potential_risk_other:a().optional().nullable(),unsafe_reasons:o(a()).optional().nullable(),unsafe_reason_other:a().optional().nullable(),control_measures:o(a()).optional().nullable(),control_measure_other:a().optional().nullable(),corrective_action:a().optional().nullable(),status:v,resolved_by_id:a().uuid().optional().nullable(),resolved_by_name:a().optional().nullable(),resolved_at:l.date().optional().nullable(),resolution_notes:a().optional().nullable(),created_at:l.date().optional().nullable(),updated_at:l.date().optional().nullable()}),Q=u({facility_id:a().uuid(),observation_date:_,observation_time:a(),unsafe_action_condition:a().min(10),hazard_types:o(y).optional().nullable(),potential_risks:o(h).optional().nullable(),potential_risk_other:a().optional().nullable(),unsafe_reasons:o(z).optional().nullable(),unsafe_reason_other:a().optional().nullable(),control_measures:o(f).optional().nullable(),control_measure_other:a().optional().nullable(),corrective_action:a().optional().nullable(),photo_file_ids:o(a().uuid()).optional().nullable()}),M=u({facility_id:a().uuid().optional(),observation_date:_.optional(),observation_time:a().optional(),unsafe_action_condition:a().optional(),hazard_types:o(y).optional().nullable(),potential_risks:o(h).optional().nullable(),potential_risk_other:a().optional().nullable(),unsafe_reasons:o(z).optional().nullable(),unsafe_reason_other:a().optional().nullable(),control_measures:o(f).optional().nullable(),control_measure_other:a().optional().nullable(),corrective_action:a().optional().nullable(),status:v.optional(),photo_file_ids:o(a().uuid()).optional().nullable()}),R=u({resolution_notes:a().min(10)});async function q(e){const t=await s.post("hazard-observations",e);return p.parse(r.parse(t.data).data)}async function H(e,t){const n=await s.put(`hazard-observations/${e}`,t);return p.parse(r.parse(n.data).data)}async function O(e){const t=await s.delete(`hazard-observations/${e}`);return r.parse(t.data)}async function g(e){const t=await s.get(`hazard-observations/${e}`);return p.parse(r.parse(t.data).data)}async function k(e,t){const n=await s.put(`hazard-observations/${e}/resolve`,t);return p.parse(r.parse(n.data).data)}function S(){return b({queryKey:["hazard-observations"],queryFn:async()=>{const e=await s.get("hazard-observations");return r.parse(e.data).data}})}function T(e){return b({queryKey:["hazard-observation",e],queryFn:()=>g(e),enabled:!!e})}function $(){const e=c();return d({mutationFn:q,onSuccess:()=>{e.invalidateQueries({queryKey:["hazard-observations"]})}})}function j(){const e=c();return d({mutationFn:({id:t,data:n})=>H(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:["hazard-observations"]}),e.invalidateQueries({queryKey:["hazard-observation"]})}})}function A(){const e=c();return d({mutationFn:O,onSuccess:()=>{e.invalidateQueries({queryKey:["hazard-observations"]})}})}function I(){const e=c();return d({mutationFn:async({id:t,data:n})=>k(t,n),onSuccess:()=>{e.invalidateQueries({queryKey:["hazard-observations"]}),e.invalidateQueries({queryKey:["hazard-observation"]}),e.invalidateQueries({queryKey:["hazard-analytics"]})}})}function U(){return b({queryKey:["hazard-analytics"],queryFn:async()=>{const e=await s.get("hazard-observations/analytics/summary");return r.parse(e.data).data}})}export{Q as H,C as I,U as a,$ as b,j as c,T as d,M as e,I as f,R as g,A as h,S as u};
