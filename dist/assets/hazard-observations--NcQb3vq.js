import{c as f}from"./createReactComponent-THD73P8V.js";import{W as i,X as u,Y as a,bD as l,$ as t,aF as b,aG as c,aH as d,am as r,an as s}from"./index-CmhbjPjL.js";import{d as _}from"./date-CvsIFdJd.js";/**
 * @license @tabler/icons-react v3.14.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Q=f("outline","file-alert","IconFileAlert",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M12 17l.01 0",key:"svg-2"}],["path",{d:"M12 11l0 3",key:"svg-3"}]]);const v=i(["open","in_progress","resolved","closed"]),y=i(["physical","chemical","biological","ergonomic","psychosocial"]),h=i(["hit_by_object","slip_trip_fall","short_circuit_burn","contact_hazard","environmental_pollution","other"]),z=i(["inadequate_equipment","lack_of_knowledge","incorrect_ppe_use","procedure_violation","no_loto_socialization","other"]),m=i(["elimination","substitution","minimization","training","ppe","other"]),p=u({id:a().uuid().optional().nullable(),observer_id:a().uuid(),observer_name:a().optional().nullable(),facility_id:a().uuid(),facility_name:a().optional().nullable(),observation_date:l.date(),observation_time:a(),unsafe_action_condition:a(),hazard_types:t(a()).optional().nullable(),potential_risks:t(a()).optional().nullable(),potential_risk_other:a().optional().nullable(),unsafe_reasons:t(a()).optional().nullable(),unsafe_reason_other:a().optional().nullable(),control_measures:t(a()).optional().nullable(),control_measure_other:a().optional().nullable(),corrective_action:a().optional().nullable(),status:v,resolved_by_id:a().uuid().optional().nullable(),resolved_by_name:a().optional().nullable(),resolved_at:l.date().optional().nullable(),resolution_notes:a().optional().nullable(),created_at:l.date().optional().nullable(),updated_at:l.date().optional().nullable()}),w=u({facility_id:a().uuid(),observation_date:_,observation_time:a(),unsafe_action_condition:a().min(10),hazard_types:t(y).optional().nullable(),potential_risks:t(h).optional().nullable(),potential_risk_other:a().optional().nullable(),unsafe_reasons:t(z).optional().nullable(),unsafe_reason_other:a().optional().nullable(),control_measures:t(m).optional().nullable(),control_measure_other:a().optional().nullable(),corrective_action:a().optional().nullable()}),M=u({facility_id:a().uuid().optional(),observation_date:_.optional(),observation_time:a().optional(),unsafe_action_condition:a().optional(),hazard_types:t(y).optional().nullable(),potential_risks:t(h).optional().nullable(),potential_risk_other:a().optional().nullable(),unsafe_reasons:t(z).optional().nullable(),unsafe_reason_other:a().optional().nullable(),control_measures:t(m).optional().nullable(),control_measure_other:a().optional().nullable(),corrective_action:a().optional().nullable(),status:v.optional()}),R=u({resolution_notes:a().min(10)});async function q(e){const n=await r.post("hazard-observations",e);return p.parse(s.parse(n.data).data)}async function H(e,n){const o=await r.put(`hazard-observations/${e}`,n);return p.parse(s.parse(o.data).data)}async function O(e){const n=await r.delete(`hazard-observations/${e}`);return s.parse(n.data)}async function g(e){const n=await r.get(`hazard-observations/${e}`);return p.parse(s.parse(n.data).data)}async function k(e,n){const o=await r.put(`hazard-observations/${e}/resolve`,n);return p.parse(s.parse(o.data).data)}function S(){return b({queryKey:["hazard-observations"],queryFn:async()=>{const e=await r.get("hazard-observations");return s.parse(e.data).data}})}function T(e){return b({queryKey:["hazard-observation",e],queryFn:()=>g(e),enabled:!!e})}function $(){const e=c();return d({mutationFn:q,onSuccess:()=>{e.invalidateQueries({queryKey:["hazard-observations"]})}})}function A(){const e=c();return d({mutationFn:({id:n,data:o})=>H(n,o),onSuccess:()=>{e.invalidateQueries({queryKey:["hazard-observations"]}),e.invalidateQueries({queryKey:["hazard-observation"]})}})}function I(){const e=c();return d({mutationFn:O,onSuccess:()=>{e.invalidateQueries({queryKey:["hazard-observations"]})}})}function U(){const e=c();return d({mutationFn:async({id:n,data:o})=>k(n,o),onSuccess:()=>{e.invalidateQueries({queryKey:["hazard-observations"]}),e.invalidateQueries({queryKey:["hazard-observation"]}),e.invalidateQueries({queryKey:["hazard-analytics"]})}})}function j(){return b({queryKey:["hazard-analytics"],queryFn:async()=>{const e=await r.get("hazard-observations/analytics/summary");return s.parse(e.data).data}})}export{w as H,Q as I,j as a,$ as b,A as c,T as d,M as e,U as f,R as g,I as h,S as u};
