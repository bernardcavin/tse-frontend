import{r as m,x as V,f as I,u as E,a as L,j as s,B as R,c as q,g as J,A as Y,C as Z,t as Q,q as B,z as A,bK as ee,bL as te,e as K,bM as se,bN as N,Q as k,T as U,V as z,bE as g,bO as ae,bP as re,bQ as ie,bR as le,bS as ne,bT as oe,ag as ce,bU as de,o as G,X as ue,ac as me}from"./index-hFCbRvL1.js";import{W as he}from"./index-DIz0qz44.js";import{T as pe}from"./Title-B_UJJYUP.js";function ve(e,t,a={leading:!1}){const[n,i]=m.useState(e),l=m.useRef(!1),c=m.useRef(null),r=m.useRef(!1),d=()=>window.clearTimeout(c.current);return m.useEffect(()=>{l.current&&(!r.current&&a.leading?(r.current=!0,i(e)):(d(),c.current=window.setTimeout(()=>{r.current=!1,i(e)},t)))},[e,a.leading,t]),m.useEffect(()=>(l.current=!0,d),[]),[n,d]}function xe(e="top-end",t=0){const a={"--indicator-top":void 0,"--indicator-bottom":void 0,"--indicator-left":void 0,"--indicator-right":void 0,"--indicator-translate-x":void 0,"--indicator-translate-y":void 0},n=V(t),[i,l]=e.split("-");return i==="top"&&(a["--indicator-top"]=n,a["--indicator-translate-y"]="-50%"),i==="middle"&&(a["--indicator-top"]="50%",a["--indicator-translate-y"]="-50%"),i==="bottom"&&(a["--indicator-bottom"]=n,a["--indicator-translate-y"]="50%"),l==="start"&&(a["--indicator-left"]=n,a["--indicator-translate-x"]="-50%"),l==="center"&&(a["--indicator-left"]="50%",a["--indicator-translate-x"]="-50%"),l==="end"&&(a["--indicator-right"]=n,a["--indicator-translate-x"]="50%"),a}var X={root:"m_e5262200",indicator:"m_760d1fb1",processing:"m_885901b1"};const fe={position:"top-end",offset:0},be=q((e,{color:t,position:a,offset:n,size:i,radius:l,zIndex:c,autoContrast:r})=>({root:{"--indicator-color":t?J(t,e):void 0,"--indicator-text-color":Y(r,e)?Z({color:t,theme:e,autoContrast:r}):void 0,"--indicator-size":V(i),"--indicator-radius":l===void 0?void 0:Q(l),"--indicator-z-index":c==null?void 0:c.toString(),...xe(a,n)}})),M=I((e,t)=>{const a=E("Indicator",fe,e),{classNames:n,className:i,style:l,styles:c,unstyled:r,vars:d,children:h,position:x,offset:p,inline:v,label:o,radius:u,color:f,withBorder:b,disabled:P,processing:C,zIndex:j,autoContrast:w,mod:D,..._}=a,T=L({name:"Indicator",classes:X,props:a,className:i,style:l,classNames:n,styles:c,unstyled:r,vars:d,varsResolver:be});return s.jsxs(R,{ref:t,...T("root"),mod:[{inline:v},D],..._,children:[!P&&s.jsx(R,{mod:{"with-label":!!o,"with-border":b,processing:C},...T("indicator"),children:o}),h]})});M.classes=X;M.displayName="@mantine/core/Indicator";const[Ee,H]=B(),[je,Te]=B();var $={root:"m_7cda1cd6","root--default":"m_44da308b","root--contrast":"m_e3a01f8",label:"m_1e0e6180",remove:"m_ae386778",group:"m_1dcfd90b"};const ye={},ze=q((e,{gap:t},{size:a})=>({group:{"--pg-gap":t!==void 0?A(t):A(a,"pg-gap")}})),O=I((e,t)=>{const a=E("PillGroup",ye,e),{classNames:n,className:i,style:l,styles:c,unstyled:r,vars:d,size:h,disabled:x,...p}=a,v=H(),o=(v==null?void 0:v.size)||h||void 0,u=L({name:"PillGroup",classes:$,props:a,className:i,style:l,classNames:n,styles:c,unstyled:r,vars:d,varsResolver:ze,stylesCtx:{size:o},rootSelector:"group"});return s.jsx(je,{value:{size:o,disabled:x},children:s.jsx(R,{ref:t,size:o,...u("group"),...p})})});O.classes=$;O.displayName="@mantine/core/PillGroup";const ge={variant:"default"},Pe=q((e,{radius:t},{size:a})=>({root:{"--pill-fz":A(a,"pill-fz"),"--pill-height":A(a,"pill-height"),"--pill-radius":t===void 0?void 0:Q(t)}})),F=I((e,t)=>{const a=E("Pill",ge,e),{classNames:n,className:i,style:l,styles:c,unstyled:r,vars:d,variant:h,children:x,withRemoveButton:p,onRemove:v,removeButtonProps:o,radius:u,size:f,disabled:b,mod:P,...C}=a,j=Te(),w=H(),D=f||(j==null?void 0:j.size)||void 0,_=(w==null?void 0:w.variant)==="filled"?"contrast":h||"default",T=L({name:"Pill",classes:$,props:a,className:i,style:l,classNames:n,styles:c,unstyled:r,vars:d,varsResolver:Pe,stylesCtx:{size:D}});return s.jsxs(R,{component:"span",ref:t,variant:_,size:D,...T("root",{variant:_}),mod:[{"with-remove":p&&!b,disabled:b||(j==null?void 0:j.disabled)},P],...C,children:[s.jsx("span",{...T("label"),children:x}),p&&s.jsx(ee,{variant:"transparent",radius:u,tabIndex:-1,"aria-hidden":!0,unstyled:r,...o,...T("remove",{className:o==null?void 0:o.className,style:o==null?void 0:o.style}),onMouseDown:y=>{var S;y.preventDefault(),y.stopPropagation(),(S=o==null?void 0:o.onMouseDown)==null||S.call(o,y)},onClick:y=>{var S;y.stopPropagation(),v==null||v(),(S=o==null?void 0:o.onClick)==null||S.call(o,y)}})]})});F.classes=$;F.displayName="@mantine/core/Pill";F.Group=O;const Le=te(m.forwardRef((e,t)=>s.jsx(K,{ref:t,leftSection:s.jsx(se,{size:"1rem"}),...e})));function Se(e){return e.charAt(0).toUpperCase()+e.slice(1)}function qe(e){return e.toLowerCase().split(/[\s-_]/).map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}const Re=m.forwardRef(({title:e,description:t,style:a,actions:n,withBorder:i=!0,icon:l,...c},r)=>s.jsx(N,{ref:r,py:"md",withBorder:i,inheritPadding:!0,style:{...a,borderTop:"none"},...c,children:s.jsxs(k,{justify:"space-between",children:[s.jsxs("div",{children:[s.jsxs(k,{children:[l,s.jsx(pe,{order:5,fw:450,children:e})]}),t&&(typeof t=="string"?s.jsx(U,{size:"xs",c:"dimmed",children:t}):t)]}),s.jsx("div",{children:n})]})}));function we({gap:e="xs",justify:t="left",wrap:a="nowrap",onEdit:n,onView:i,onDelete:l,onRestore:c,onUpdate:r,onResolve:d,children:h,...x}){return s.jsxs(k,{gap:e,justify:t,wrap:a,...x,children:[i!==void 0&&s.jsx(z,{label:"Show",children:s.jsx(g,{variant:"default",onClick:i!==null?i:void 0,disabled:i===null,children:s.jsx(ae,{size:"1rem"})})}),n!==void 0&&s.jsx(z,{label:"Edit",children:s.jsx(g,{variant:"default",onClick:n!==null?n:void 0,disabled:n===null,children:s.jsx(re,{size:"1rem"})})}),r!==void 0&&s.jsx(z,{label:"Update",children:s.jsx(g,{variant:"default",onClick:r!==null?r:void 0,disabled:r===null,children:s.jsx(ie,{size:"1rem"})})}),l!==void 0&&s.jsx(z,{label:"Delete",children:s.jsx(g,{variant:"outline",color:"red",onClick:l!==null?l:void 0,disabled:l===null,children:s.jsx(le,{size:"1rem"})})}),c!==void 0&&s.jsx(z,{label:"Restore",children:s.jsx(g,{variant:"default",color:"teal",onClick:c!==null?c:void 0,disabled:c===null,children:s.jsx(ne,{size:"1rem"})})}),d!==void 0&&s.jsx(z,{label:"Resolve",children:s.jsx(g,{variant:"default",color:"green",onClick:d!==null?d:void 0,disabled:d===null,children:s.jsx(oe,{size:"1rem"})})}),h]})}function De({children:e,...t}){return s.jsx(ce,{...t,children:e})}const _e=m.forwardRef(({children:e},t)=>s.jsx(N,{ref:t,children:e})),Ae=m.forwardRef(({filters:e,onClear:t,onSubmit:a,py:n="md",...i},l)=>{const c=Object.entries(e);return c.length===0?null:s.jsx(N,{inheritPadding:!0,withBorder:!0,ref:l,children:s.jsxs(k,{py:n,...i,children:[c.map(([r,d])=>{const h=d.valueLabel||d.value;return s.jsxs(U,{fz:"sm",c:"dimmed",children:[d.label,":",s.jsx(F,{ml:"0.25rem",withRemoveButton:!0,onRemove:d.onRemove,children:Array.isArray(h)?h.join(", "):h})]},r)}),t&&s.jsx(K,{variant:"subtle",size:"compact-xs",color:"red",leftSection:s.jsx(de,{size:"1rem"}),onClick:t,children:"Clear"})]})})});function ke({children:e,color:t}){return s.jsx(M,{processing:!0,color:t,size:6,position:"middle-end",offset:-8,children:e})}const Ne=m.forwardRef(({tabs:e,onChange:t,...a},n)=>{const[i,l]=m.useState(e[0].value),c=r=>{l(r),r&&(t==null||t(r))};return s.jsx(N,{ref:n,...a,children:s.jsx(G,{value:i,onChange:c,children:s.jsx(G.List,{children:e.map(({counter:r,hasIndicator:d,rightSection:h,color:x,...p})=>{const v=d?ke:R,o=r!==void 0?s.jsx(v,{color:x,children:s.jsx(ue,{variant:i===p.value?"filled":"light",color:x,radius:"md",children:r})}):null;return m.createElement(G.Tab,{...p,key:p.value,rightSection:o??h,color:x},p.label)})})})})});function $e({name:e,label:t,filters:a,...n}){var i;return s.jsx(me,{...n,value:(i=a.filters[e])==null?void 0:i.value,onChange:l=>a.change({name:e,label:t,value:l.currentTarget.value})})}function W(e){return e!=null&&e!==""}function Fe({tabsConfig:e,sortConfig:t}){const[a,n]=m.useState(e==null?void 0:e.tabs[0].value),[i,l]=m.useState({}),[c]=ve(i,500),[r,d]=m.useState({columnAccessor:(t==null?void 0:t.column)??"",direction:(t==null?void 0:t.direction)??"asc"}),h=u=>{var f;n(u),(f=e==null?void 0:e.onChange)==null||f.call(e,u)},x=()=>{l({})},p=u=>{l(f=>{const{[u]:b,...P}=f;return P})},v=u=>{W(u.value)?l(f=>({...f,[u.name]:{...u,onRemove:()=>p(u.name)}})):p(u.name)},o=m.useMemo(()=>Object.values(c).filter(({value:u})=>W(u)).reduce((u,{name:f,value:b})=>({...u,[f]:b}),{}),[c]);return{tabs:{value:a,change:h,tabs:(e==null?void 0:e.tabs)??[]},filters:{filters:i,clear:x,change:v,remove:p,query:o},sort:{change:d,column:r.columnAccessor,direction:r.direction,status:r,query:`${r.columnAccessor.toString()}:${r.direction}`}}}const Me={useDataTable:Fe,Title:Re,Container:De,Content:_e,Tabs:Ne,Filters:Ae,Actions:we,Table:he,TextInputFilter:$e,recordsPerPageLabel:e=>`${Se(e)} per page`,noRecordsText:e=>`No ${e} found`,paginationText:e=>({from:t,to:a,totalRecords:n})=>`Showing ${t} to ${a} of ${n} ${e}`};export{Le as A,Me as D,qe as t};
